import{u as b,_ as k}from"./CategoryCard.vue_vue_type_script_setup_true_lang-BIjLNA08.js";import{u as C}from"./productStore-DZZHXIAW.js";import{_ as P}from"./ProductCard.vue_vue_type_script_setup_true_lang-D1ri-fQJ.js";import{d as S,u as w,r as m,c as B,o as F,a as t,b as o,t as n,e as i,f as g,F as y,g as h,h as e,i as f}from"./index-DgJ-tQ9r.js";import"./GradientPlaceholder.vue_vue_type_script_setup_true_lang-8FIkg_fq.js";const A={class:"container mx-auto px-4 py-8"},D={key:0,class:"flex justify-center items-center min-h-screen"},L={key:1,class:"text-center text-red-600 py-8"},N={key:2},V={key:0,class:"mb-12"},$={class:"text-2xl font-semibold text-gray-800 mb-6"},j={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},E={key:1},H={class:"text-2xl font-semibold text-gray-800 mb-6"},I={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},M={key:2,class:"text-center py-12 text-gray-500"},K=S({__name:"HomePage",setup(O){const{t:c}=w(),x=b(),_=C(),u=m(!0),s=m(null),a=m([]),d=B(()=>_.products),p=async()=>{u.value=!0,s.value=null;try{const r=await x.getTopLevelCategories();await _.fetchAllProducts(),a.value=r,a.value=r,s.value=null}catch(r){s.value="Failed to load data. Please try again.",console.error(r)}finally{u.value=!1}};return F(()=>{p()}),(r,v)=>(e(),t("div",A,[u.value?(e(),t("div",D,v[0]||(v[0]=[o("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"},null,-1)]))):s.value?(e(),t("div",L,[o("p",null,n(s.value),1),o("button",{class:"mt-4 px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",onClick:p},n(i(c)("common.tryAgain")),1)])):(e(),t("div",N,[a.value.length>0?(e(),t("section",V,[o("h2",$,n(i(c)("common.categories")),1),o("div",j,[(e(!0),t(y,null,h(a.value,l=>(e(),f(k,{key:l.id,category:l},null,8,["category"]))),128))])])):g("",!0),d.value.length>0?(e(),t("section",E,[o("h2",H,n(i(c)("common.products")),1),o("div",I,[(e(!0),t(y,null,h(d.value,l=>(e(),f(P,{key:l.id,product:l},null,8,["product"]))),128))])])):g("",!0),a.value.length===0&&d.value.length===0?(e(),t("div",M,[o("p",null,n(i(c)("common.noProductsOrCategories")),1)])):g("",!0)]))]))}});export{K as default};
